# Reciprocity under conflict: Replication Materials

Thank you for your interest in our study on reciprocity under conflict. This repository provides all the materials necessary to replicate our study.

**Please note that this repository is still under construction. We are working on the documentation and scripts to make it easier to reproduce our results.**

## Contents

The repository contains the following items:

- `code/simulation`: This directory contains the simulation code implemented in Python 3 and the code for the analysis and plots written in R.
- `code/analysis`: This directory contains the code for the analysis and plots written in R.

- `output/`: This directory will contain the results of the simulations.

## Data

There are two ways to reproduce the results of our study:

### Simulate on Your Machine

You can reproduce our results by running the simulation code on your machine. Note that running the simulation code with every possible parameter combination may take a considerable amount of time. (Several days on a standard machine with 8 cores). To run the baseline simulation with a smaller number of iteration, use the following command:


```
python3 code/simulation/simulate.py
```

This will generate the simulation data files in the `output/simulationdata` folder.

You can change the parameters in the `code/simulation/simulate.py` file. 

### Use Our Precomputed Data

We also provide the precomputed data that we used in our study, which you can download from the following link (805 MB in total): https://www.dropbox.com/sh/zu6czzbl1jiscmq/AACE0-A3NiDN2Q98zk9R6QQ9a?dl=0

## Reproducing the Analysis and Plots

To reproduce the analysis and plots presented in our study, you need to run the R scripts provided in the `code/` directory. These scripts use the data generated by the simulation code or the precomputed data, depending on the option you choose.

Note that you will need to install the necessary R packages listed in the `code/requirements.R` file before running the analysis scripts. 

The resulting plots and analysis will be saved in the `output/` directory.

### Reproducing by running the simulations
1- Clone the repository 
```
git clone https://github.com/aseyq/reciprocity_under_conflict.git
```
2- Go to downloaded folder
```
cd reciprocity_under_conflict
```
3- (Optional but recommended) Create a Python virtual environment,
```
python3 -m venv venv
```
and activate it

(MacOS and Ubuntu)
```
source venv/bin/activate
```

(Windows)
```
venv\Scripts\activate
```
4- Install required packages

```
cd code/simulation
pip install -r requirements.txt
```

## Citation

If you use our materials for your own research, please cite our original paper using the following reference:

[TBA] 


